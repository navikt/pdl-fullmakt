# APP CONFIG
server.port=8080
server.servlet.context-path=/api
# DATABASE
spring.datasource.url=${POSTGRES_URL}
spring.datasource.hikari.minimum-idle=1
spring.datasource.hikari.maximum-pool-size=2
spring.jpa.properties.hibernate.dialect=org.hibernate.dialect.PostgreSQL95Dialect
spring.jpa.properties.hibernate.jdbc.lob.non_contextual_creation=true
spring.jpa.hibernate.ddl-auto=none
# FLYWAY
spring.flyway.schemas=public
spring.flyway.baseline-on-migrate=true
spring.flyway.table=flyway_fullmakt_history


# management.endpoints.web.base-path=/internal
# management.endpoints.web.exposure.include=info,health,prometheus
management.endpoints.web.path-mapping.prometheus=metrics
# management.endpoint.health.show-details=always
management.endpoint.security.enabled=false
management.endpoint.metrics.enabled=false
management.endpoint.prometheus.enabled=true
management.info.git.mode=simple


#
#   S P R I N G
#
spring.main.banner-mode=off
spring.jpa.open-in-view=true

#
#   M E T R I C S
#
management.metrics.tags.domain=mfn
management.endpoints.web.base-path=/internal
management.endpoints.web.exposure.include=info,prometheus,health,heapdump,flyway,scheduledtasks
management.endpoint.health.show-details=always

#
#   S W A G G E R
#
springfox.documentation.swagger.v2.path=/swagger/doc

#
#   A B A C
#
no.nav.abac.systemuser.username=${APP_CREDENTIAL_USERNAME}
no.nav.abac.systemuser.password=${APP_CREDENTIAL_PASSWORD}


#
#   S T S
#

person.utils.sts.nav.username=${APP_CREDENTIAL_USERNAME}
person.utils.sts.nav.password=${APP_CREDENTIAL_PASSWORD}
person.utils.sts.nav.url=${sts.baseUrl}?grant_type=client_credentials&scope=openid

#
#   P E R S O N   U T I L S
#
person.utils.audit.locators.mdcCallId.key=Nav-Call-Id

# Pretty print JSON
spring.jackson.serialization.INDENT_OUTPUT=true

#
#   S E C U R I T Y
#

freg.security.oidc.auth.ignored-paths=/actuator/**,/api,/internal/**,/swagger-ui.html,/swagger-resources/**,/swagger/**,/error,/webjars/**
freg.security.oidc.idp.azureb2c.proxyAddress=webproxy.nais:8088

freg.security.oidc.idp.navSts.issuerUrl=https://security-token-service-q1.nais.preprod.local
freg.security.oidc.idp.navSts.jwksUrl=https://security-token-service-q1.nais.preprod.local/rest/v1/sts/jwks